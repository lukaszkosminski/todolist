<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"></html>
<head>
    <meta charset="UTF-8">
    <title>ToDoList</title>
    <link rel="stylesheet" href="/css/list.css">
    <link rel="stylesheet" href="/css/sidebar.css">
    <link rel="stylesheet" href="/css/formAnimationPlaceholder.css">
</head>
<body>
<div class="sidebar">
    <ul>
        <li>
            <a th:href="@{/}">
                <span class="icon"><img src="/css/image/home.svg" width="30px"></span>
                <span class="text">Home</span>
            </a>
        </li>
        <li>
            <a th:href="@{/list}">
                <span class="icon"><img src="/css/image/list.svg" width="30px"></span>
                <span class="text">List after login</span>
            </a>
        </li>
        <li>
            <a th:href="@{/list}">
                <span class="icon"><img src="/css/image/list.svg" width="30px"></span>
                <span class="text">Dodaj nową listę</span>
            </a>
        </li>
        <li>
            <a th:href="@{/admin}">
                <span class="icon"><img src="/css/image/list.svg" width="30px"></span>
                <span class="text">Admin</span>
            </a>
        </li>
        <div class="bottom">
            <li>
                <a href="#">
                    <span class="icon"><img src="/css/image/account.svg" width="30px"></span>
                    <span class="text">Account</span>
                </a>
            </li>
            <li>
                <a href="#">
                    <span class="icon"><img src="/css/image/logout.svg" width="30px"></span>
                    <span class="text">Log Out</span>
                </a>
            </li>
            <li>
                <a th:href="@{/login}">
                    <span class="icon"><img src="/css/image/login.svg" width="30px"></span>
                    <span class="text">Login</span>
                </a>
            </li>
        </div>
    </ul>
</div>
<main>
    <header>
        <div class="listname">
            <h1>ListName</h1>
        </div>
        <div class="search">
            <input type="text" placeholder="search">
        </div>
        <div class="addtask">
            <button type="submit" class="btn" onclick="addInput()">Add Task</button>
        </div>
        <div class="addtaskinput" onsubmit="submitForm()">
            <h3>Add Task</h3><br>
            <form autocomplete="off">
                <div class="taskinput">
                    <input required="" type="text" name="Title" class="input">
                    <label class="label">Title</label>
                </div>

                <div class="taskinput">
                    <input required="" type="text" name="Title" class="input">
                    <label class="label">Desc</label>
                </div>
                <button type="submit">Add Task</button>
            </form>
        </div>
    </header>
    <div class="content">
        <div class="box" id="TODO">
            <div class="header">
                <div class="status" style="
                    background-color: #080bb1;">TO DO</div>
                <img src="/css/image/layers.svg" width="30px">
                <div class="counter" id="ctr1"></div>
            </div>
            <div class="task" draggable="true">
                <div class="title">tytuł</div>
                <div class="data">data</div>
                <div class="description">opis</div>
                <div class="id">1</div>
            </div>
        </div>
        <div class="box" id="IN_PROGRESS">
            <div class="header">
                <div class="status" style="
                    background-color: #fcd12a;">IN_PROGRESS</div>
                <img src="/css/image/layers.svg" width="30px">
                <div class="counter" id="ctr2"></div>
            </div>
            <div class="task" draggable="true">
                <div class="title">tytuł</div>
                <div class="data">data</div>
                <div class="description">opis</div>
                <div class="id">2</div>
            </div>
        </div>
        <div class="box" id="DONE">
            <div class="header">
                <div class="status" style="
                    background-color: #3cb043;">DONE</div>
                <img src="/css/image/layers.svg" width="30px">
                <div class="counter" id="ctr3"></div>
            </div>
            <div class="task" draggable="true">
                <div class="title">tytuł</div>
                <div class="data">data</div>
                <div class="description">opis</div>
                <div class="id">3</div>
            </div>
        </div>
        <div class="box" id="CANCELED">
            <div class="header">
                <div class="status" style="
                    background-color: #ff2400;">CANCELED</div>
                <img src="/css/image/layers.svg" width="30px">
                <div class="counter" id="ctr4"></div>
            </div>
            <div class="task" draggable="true">
                <div class="title">tytuł</div>
                <div class="data">data</div>
                <div class="description">opis</div>
                <div class="id">4</div>
            </div>
        </div>
    </div>
</main>
<script>
    function addInput() {
        let addtaskinput = document.querySelector(".addtaskinput");
        if (addtaskinput.style.display === "block") {
            addtaskinput.style.display = "none";
        } else {
            addtaskinput.style.display = "block";
        }
    }

    function submitForm(event) {
        event.preventDefault();
        let addtaskinput = document.querySelector(".addtaskinput");
        addtaskinput.style.display = "none";
    }

    document.addEventListener('click', function (event) {
        let addtaskinput = document.querySelector(".addtaskinput");
        let addtaskButton = document.querySelector(".btn");

        if (!addtaskinput.contains(event.target) && event.target !== addtaskButton) {
            addtaskinput.style.display = "none";
        }
    });
</script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="/javascript/dragEvent.js"></script>
<script src="/javascript/dragEvent.js"></script>
</body>
</html>